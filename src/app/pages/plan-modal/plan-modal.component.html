
<div class="container">
    <div class="d-flex justify-content-between p-4">
      <h4 class="modal-title">{{contractModalTitle}}</h4>
      <!-- <button type="button" class="btn-Close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button> -->
      <button (click)="activeModal.dismiss('Cross click')" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body d-flex flex-column ">
      <form [formGroup]="form" class="flex-column" (ngSubmit)="submit()">
        <div class="row">
          <div class="col-lg-12 form-group">
            <label>School name/Plan Name</label>
            <input type="text" placeholder="School name/Plan Name" formControlName="school" class="form-control">
          </div>
        </div>
        <div class="row">
            <div class="col-10 form-group">
                <label>Plan Summary</label>
                <input type="text" formControlName="plan_summary" class="form-control">
            </div>
            <div class="col-2 form-group d-flex align-items-center">
                <p class="mb-0 cursor" (click)="addSummary()"><small><em>Add</em></small></p>
            </div>

            <div class="col-12" *ngIf="summaries?.length > 0">
                <div class="table-responsive">
                    <table class="table table-borderless">
                        <thead>
                            <tr>
                                <th>Summary</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let summary of summaries; let i = index">
                                <td>{{summary}}</td>
                                <td><small class="cursor" (click)="deleteSummary(i)"><em>Delete</em></small></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-lg-12 form-group">
            <label>Objective</label>
            <textarea type="text" formControlName="objective" class="form-control"></textarea>
        </div>
        <div class="col-lg-12 form-group">
            <label>Describe Priority Areas</label>
            <textarea type="text" formControlName="priority_areas" class="form-control"></textarea>
        </div>
        <div class="row">
            <div class="col-lg-6 form-group">
                <label for="emis_school_code">EMIS School Code</label>
                <input type="text" formControlName="emis_school_code" class="form-control">
            </div>
            <div class="col-lg-6 form-group">
                <label for="sbmc_id">Select SBMC User</label>
                <select name="sbmc_id" id="sbmc_id" formControlName="sbmc_id" class="form-select">
                <option *ngFor="let user of users" [value]="user.id">{{user.name}}</option>
                </select>
            </div>
            <div class="col-lg-6 form-group">
                <label for="">Select Currency</label>
                <select name="currency" formControlName="currency_type" class="form-select">
                <option value="Naira">Naira</option>
                <option value="Dollar">Dollar</option>
                <option value="Pound">Pound</option>
                </select>
            </div>
            <div class="col-lg-6 form-group">
                <label for="amount_of_grant">Amount of Grant</label>
                <input type="number" formControlName="amount_of_grant" class="form-control">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6 form-group">
                <label for="male_entrollment">Male Enrollment</label>
                <input type="number" formControlName="male_entrollment" class="form-control">
            </div>
            <div class="col-lg-6 form-group">
                <label for="female_entrollment">Female Enrollment</label>
                <input type="number" formControlName="female_entrollment" class="form-control">
            </div>
            <div class="col-lg-6 form-group">
                <label for="year">Year</label>
                <input type="number" formControlName="year" class="form-control">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6 form-group">
                <label for="">Select State </label>
                <select *ngIf="states" name="state" formControlName="state" class="form-select" (change)="setLocals()">
                    <option [value]="item.id" *ngFor="let item of states">{{item.title}}</option>
                </select>
            </div>
            <div class="col-lg-6 form-group">
                <label for="lga">Select LGA</label>
                <select *ngIf="lgas" name="lga"  formControlName="lga_id" class="form-select">
                    <option [value]="item.id" *ngFor="let item of lgas">{{item.title}}</option>
                </select>
            </div>
            <div class="col-lg-12 form-group">
                <label for="community">Community</label>
                <input type="text" formControlName="community" class="form-control">
            </div>
        </div>
        <div class="row">
          <div class="col-lg-6 form-group">
            <label>Longitude</label>
            <input type="number" formControlName="longitude" class="form-control">
          </div>
          <div class="col-lg-6 form-group">
            <label>Latitude</label>
            <input type="number" formControlName="latitude" class="form-control">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary px-4 me-3" (click)="activeModal.close('Close click')">Close</button>
          <button class="btn btn-success px-4" type="submit">Submit</button>
        </div>
      </form>
    </div>

  </div>
